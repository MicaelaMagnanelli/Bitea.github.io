<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bitea</title>
    <link rel="icon" href="Imagenes/Logo.ico" type="image/x-icon">
    <link rel="stylesheet" href="Css/style-ccuenta.css">

    <!-- TIPOGRAFÍA -->
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai+Looped:wght@100;200;300;400;500;600;700;800;900&display=swap"
        referrerpolicy="stylesheet">
</head>


<body>
  
    <!-- Menú de navegación -->
    <header>
        <div class="logo">
            <a href="index.html">
                <img src="Imagenes/Logo de Bitea (Blanco).png" alt="Logo" class="logo-img">
            </a>
        </div>

        <!-- Ícono del menú hamburguesa (visible solo en móvil/tablet) -->
        <div class="hamburger" id="hamburger">
            <span></span>
            <span></span>
            <span></span>
        </div>

        <!-- Menú principal -->
        <nav id="nav-menu">
            <ul class="menu">
                <li><a href="index.html" id="menu-link">Menú</a></li>
                <li><a href="Comprar.html" id="comprar-link">Comprar</a></li>
                <li><a href="#" id="abrir-popup-personalizado">Personalizar</a></li>
            </ul>
        </nav>

        <!-- Íconos de carrito -->
        <div class="icon-container">
            <!-- El enlace del carrito -->
            <a href="javascript:void(0)" onclick="mostrarCarrito()">
                <img src="Imagenes/Menu/Carrito.png" alt="Carrito" class="icon">
                <!-- El contador debe estar aquí, en el ícono del carrito -->
                <span id="contador-carrito" class="contador-carrito">0</span>
            </a>
        </div>

        <!-- Modal del carrito -->
        <div id="modal-carrito" class="modal" style="display: none;">
            <div class="modal-contenido">
                <!-- Botón para cerrar el modal -->
                <span class="cerrar" onclick="cerrarCarrito()">&times;</span>

                <!-- Contenido del carrito -->
                <div id="contenido-carrito"></div>

                <!-- Total del carrito -->
                <div id="total-carrito"></div>

                <!-- Botón de finalizar compra en el footer -->
                <div id="footer-carrito">
                    <button class="boton-finalizar" id="checkout-btn" onclick="irACaja()">Finalizar compra</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Contenido de la página -->
    <main
        style="background-image: url('Imagenes/Fondo/Fondo.png'); background-size: cover; background-position: center; background-repeat: no-repeat; min-height: 100vh; display: flex; justify-content: center; align-items: center;">
        <div class="form-container">
            <img src="Imagenes/Logo de Bite (Negro).png" alt="Logo" class="small-image">
            <h2 data-i18n="create-account-title" data-html="true"><b>Crea tu cuenta</b></h2>

            <!-- FORMULARIO -->
            <form action="https://formspree.io/f/manyjdnr" method="post">
                <label for="nombre" data-i18n="label-name">Tu Nombre</label>
                <input name="nombre" type="text" data-i18n="placeholder-name" placeholder="Nombre y Apellido">

                <label for="telefono" data-i18n="label-phone">Número de teléfono</label>
                <input name="telefono" type="tel" data-i18n="placeholder-phone" placeholder="">

                <label for="password" data-i18n="label-password">Contraseña</label>
                <input type="password" id="password" data-i18n="placeholder-password"
                    placeholder="Mínimo de 6 caracteres">

                <label for="password2" data-i18n="label-confirm-password">
                    Vuelve a escribir la contraseña
                </label>
                <input type="password" id="password2" placeholder="" data-i18n="placeholder-confirm-password">

                <input type="submit" value="Continuar" data-i18n="submit-button">

                <p data-i18n="terms-text">
                    Al crear una cuenta, aceptas las Condiciones de Uso y el Aviso de Privacidad de bitea.com
                </p>
            </form>

            <!-- ¿Ya tienes una cuenta? -->
            <p>
                <span data-i18n="have-account-text">¿Ya tienes una cuenta?</span>
                <strong class="login-link" onclick="showLoginModal()" data-i18n="login-link-text">Iniciar
                    sesión</strong>
            </p>


            <!-- Pop-up (log in) -->
            <div id="popup-login" class="popup-login hidden">
                <div class="popup-content">
                    <button class="close-button">&times;</button>
                    <h2 id="login-title">Entra</h2>
                    <div class="popup-image">
                        <img src="Imagenes/Patrón.png" alt="Imagen descriptiva">
                    </div>
                    <form>
                        <label for="email" id="email-label">Email</label>
                        <input type="email" id="email" name="email" placeholder="Ingresa tu correo" required>

                        <label for="password" id="password-label">Contraseña</label>
                        <input type="password" id="password" name="password" placeholder="Ingresa tu contraseña"
                            required>

                        <a href="#" class="forgot-password" id="forgot-password-text">¿Olvidaste tu contraseña?</a>
                        <button type="submit" class="login-button" id="login-button">Entrar</button>
                    </form>
                    <p id="join-text">¿No tienes cuenta? <a href="Ccuenta.html" id="join-link">Únete</a></p>
                    <div class="social-login">
                        <button class="google-login">
                            <img src="Imagenes/PopUp/icono-gmail.png" alt="Google" class="social-icon">
                            <span id="google-login-text">Entra con Gmail</span>
                        </button>
                        <button class="apple-login">
                            <img src="Imagenes/PopUp/icono-apple.png" alt="Apple" class="social-icon">
                            <span id="apple-login-text">Entra con Apple</span>
                        </button>
                        <button class="facebook-login">
                            <img src="Imagenes/PopUp/icono-facebook.png" alt="Facebook" class="social-icon">
                            <span id="facebook-login-text">Entra con Facebook</span>
                        </button>
                    </div>
                </div>
            </div>

        </div>
    </main>

    <!-- Pop-up (popup-personalizado) -->
    <div class="popup" id="popup-personalizado">
        <span id="cerrar-popup-personalizado" class="cerrar-popup">&times;</span>
        <h3 id="titulo-popup-personalizado">Armá tu cupcake</h3>
        <p id="subtitulo-popup-personalizado">Elegí tu Frosting</p>
        <img id="imagen-cupcake-personalizado" class="imagen-cupcake"
            src="Imagenes/Personalizado/Frosting (CUPCAKE - PERSONALIZADO).png" alt="Cupcake con Frosting">
        <div class="indicador">
            <span id="indicador-frosting-personalizado" class="active"></span>
            <span id="indicador-relleno-personalizado"></span>
            <span id="indicador-masa-personalizado"></span>
        </div>
        <ul id="opciones-frosting-personalizado"></ul>
        <ul id="opciones-relleno-personalizado" style="display: none;"></ul>
        <ul id="opciones-masa-personalizado" style="display: none;"></ul>
        <button class="continue-btn" id="continuar-personalizado" disabled>Continuar</button>
    </div>

    <!-- Insertar el código JavaScript aquí -->
    <script>
        // MENU HAMBURGUESA 
        const hamburger = document.getElementById('hamburger');
        const navMenu = document.getElementById('nav-menu');

        if (hamburger && navMenu) {
            hamburger.addEventListener('click', () => {
                hamburger.classList.toggle('active');
                navMenu.classList.toggle('menu-open');
            });
        }

        // Popup personalizado
        const popup = document.getElementById('popup-personalizado');
        const abrirPopup = document.getElementById('abrir-popup-personalizado');
        const cerrarPopup = document.getElementById('cerrar-popup-personalizado');
        const continuar = document.getElementById('continuar-personalizado');
        const tituloPopup = document.getElementById('titulo-popup-personalizado');
        const subtituloPopup = document.getElementById('subtitulo-popup-personalizado');
        const imagenCupcake = document.getElementById('imagen-cupcake-personalizado');
        const indicadores = document.querySelectorAll('.indicador span');

        let etapaActual = 0; // 0 = Frosting, 1 = Relleno, 2 = Masa

        const etapas = [
            {
                titulo: 'popup-title',
                subtitulo: 'subtitulo-0',
                imagen: 'Imagenes/Personalizado/Frosting (CUPCAKE - PERSONALIZADO).png',
                opciones: [
                    'frosting-manzanas-asadas',
                    'frosting-limon',
                    'ganash-chocolate-amargo',
                    'frosting-queso-caramelo',
                    'cobertura-chocolate-ddl',
                    'crema-helada',
                    'frosting-pistacho',
                    'frosting-banana-caramelo',
                    'frosting-caramelo-sal-pretzel',
                    'frosting-flynn',
                    'frosting-cookies-cream',
                    'frosting-cereales'
                ],
                id: 'opciones-frosting-personalizado'
            },
            {
                titulo: 'popup-title',
                subtitulo: 'subtitulo-1',
                imagen: 'Imagenes/Personalizado/Relleno (CUPCAKE - PERSONALIZADO).png',
                opciones: [
                    'manzanas-caramelo',
                    'crema-limon-merengue',
                    'crema-cacao',
                    'ddl-bitea',
                    'crema-helada-relleno',
                    'pistacho-nuez',
                    'banana-caramelo',
                    'flynn-bite-relleno',
                    'cream-cookies',
                    'caramelo-pretzel',
                    'cereales-relleno'
                ],
                id: 'opciones-relleno-personalizado'
            },
            {
                titulo: 'popup(Key): popup-title',
                subtitulo: 'subtitulo-2',
                imagen: 'Imagenes/Personalizado/Masa (CUPCAKES - PERSONALIZADO).png',
                opciones: [
                    'chocolate',
                    'vainilla',
                    'marmolada',
                    'red-velvet'
                ],
                id: 'opciones-masa-personalizado'
            }
        ];

        const habilitarContinuar = () => {
            const opcionSeleccionada = document.querySelector(`#${etapas[etapaActual].id} input:checked`);
            continuar.disabled = !opcionSeleccionada;
        };

        const manejarSeleccion = (event, categoria) => {
            const opcionesDelGrupo = document.querySelectorAll(`#${categoria} input[type="checkbox"]`);
            opcionesDelGrupo.forEach(opcion => {
                if (opcion !== event.target) {
                    opcion.checked = false;
                }
            });
            habilitarContinuar();
        };

        const continuarHandler = () => {
            if (etapaActual < etapas.length - 1) {
                etapaActual++;
                actualizarContenido();
            } else {
                window.location.href = 'Cajaspersonalizar.html';
            }
        };

        const mostrarPopup = () => {
            popup.classList.add('active');
            actualizarContenido();
        };

        const cerrarPopupHandler = () => {
            popup.classList.remove('active');
            etapaActual = 0;
            actualizarContenido();
        };

        const actualizarContenido = () => {
            const etapa = etapas[etapaActual];
            const dict = window.translations[localStorage.getItem("language") || "es"] || {};

            // Actualizar textos
            tituloPopup.textContent = dict[etapa.titulo] || etapa.titulo;
            subtituloPopup.textContent = dict[etapa.subtitulo] || etapa.subtitulo;

            // Actualizar imagen
            imagenCupcake.src = etapa.imagen;

            // Mostrar solo las opciones de la etapa actual
            document.querySelectorAll("ul[id^='opciones-']").forEach((ul) => {
                ul.style.display = 'none';
            });

            const listaOpciones = document.querySelector(`#${etapa.id}`);
            listaOpciones.style.display = 'block';
            listaOpciones.innerHTML = etapa.opciones
                .map(opcion => `<li><input type="checkbox"> ${dict[opcion] || opcion}</li>`)
                .join('');

            habilitarContinuar();

            listaOpciones.querySelectorAll('input').forEach(input => {
                input.addEventListener('change', (event) => {
                    manejarSeleccion(event, etapa.id);
                });
            });

            indicadores.forEach((indicador, index) => {
                indicador.classList.toggle('active', index === etapaActual);
            });
        };

        abrirPopup.addEventListener('click', mostrarPopup);
        cerrarPopup.addEventListener('click', cerrarPopupHandler);
        continuar.addEventListener('click', continuarHandler);
    </script>

    <script src="js/scriptccuenta.js"></script>
    <script src="js/carrito.js"></script>
    <script src="js/translations.js"></script>
    <script src="js/common.js"></script>


</body>
<!--FOOTER-->
<footer class="footer">
    <!-- Enlaces arriba: Ubicación, Historia, Contacto -->
    <div class="footer-links">
        <a class="footer-link"
            href="https://www.google.com/maps/place/El+Salvador+4689,+C1414+Cdad.+Aut%C3%B3noma+de+Buenos+Aires/@-34.5893949,-58.4294298,17z/data=!3m1!4b1!4m6!3m5!1s0x95bcb5879646ab49:0xab54ef9b6efc2346!8m2!3d-34.5893949"
            target="_blank">
            <img src="Imagenes/Footer/Locación.png" alt="Ubicación" class="footer-icon">
            <span id="footer-location">Ubicación</span>
        </a>
        <a class="footer-link" href="Historia.html">
            <img src="Imagenes/Footer/Historia.png" alt="Historia" class="footer-icon">
            <span id="footer-history">Historia</span>
        </a>
        <a class="footer-link" href="/cdn-cgi/l/email-protection#c2afaba1a39dafa3a5aca382aaadb6afa3abaeeca1adaf"
            target="_blank">
            <img src="Imagenes/Footer/Contacto.png" alt="Contacto" class="footer-icon">
            <span id="footer-contact">Contacto</span>
        </a>
    </div>

    <!-- Redes sociales -->
    <div class="footer-social">
        <a class="social-link" href="https://www.instagram.com/betular.patisserie/?hl=en" target="_blank">
            <img src="Imagenes/Footer/Redes/Ig.png" alt="Instagram" class="social-icon">
        </a>
        <a class="social-link" href="https://www.tiktok.com/@betular.patisserie?lang=en" target="_blank">
            <img src="Imagenes/Footer/Redes/Tik Tok.png" alt="TikTok" class="social-icon">
        </a>
        <a class="social-link" href="https://wa.me/1234567890" target="_blank">
            <img src="Imagenes/Footer/Redes/WhatsApp.png" alt="WhatsApp" class="social-icon">
        </a>
    </div>

    <!-- Imagen del logo con enlace -->
    <div class="footer-logo">
        <a href="index.html">
            <img src="Imagenes/Footer/Logo Bitea (Negro) .png" alt="Logo">
        </a>
    </div>
</footer>


</html>